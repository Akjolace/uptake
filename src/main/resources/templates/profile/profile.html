<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/profile.css}"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
         .bg_color{
             border-left:3px solid #222649;
             min-height: 100vh;
             width: 100vw;
        }
        .photo_wrap{
            width: 180px;
            height: 180px;
            background-size: cover;
            border-radius: 50%;
            border: 4px solid #FFF;
        }
        .photo_box{
            width: 184px;
            height: 184px;
            padding: 2px;
            border-radius: 50%;
            overflow: hidden;
            background: linear-gradient(to right, #7f49e5, #F44336,#814ae9);
            margin:0 auto;
        }
        .attr{
            font-size: 18px;
            padding-right:10px;
            display: inline-block;
        }
        .attr span{
            font-size: 22px;
            font-weight: 700;
        }
        .uptake-btn{
            background: linear-gradient(98.22deg, #6A3AB0 1.3%, #854DF3 96.68%);
            box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: inline-block;
            margin: 0 auto;
            font-size: 15px;
            padding: 8px 50px;
            position: absolute;
            bottom:3px;
            margin-left:50px;
        }
        .profile_card{
            text-align: center;
            background-color: #fdfdfd;
            box-shadow: -30px 20px 50px rgba(0, 0, 0, 0.4), 30px -20px 50px rgba(0, 0, 0, 0.4);
            width: 100%;
            padding: 25px;
        }
        .mt10{
            margin-top: 10px;
        }
        .mt40{
            margin-top: 40px;
        }
        .mb10{
            margin-bottom: 10px;
        }
        .title{
            position:relative;
        }
        .post_card img{
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="bg_color">
        <div class="container">
            <div class="row mt40">
                <div class="col-md-4">
                    <div class="photo_box">
                        <div class="photo_wrap" style="background-image: url('/img/profile1.jpg')">
                    </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <h1 class="title" th:text="${user.publicName}"><a class="uptake-btn">Follow</a></h1>
                    <div class="attr_wrap mb10">
                        <div class="attr"><span th:text="${user.getPostList().size()}"></span> posts</div>
                        <div class="attr"><span th:text="${user.getFollowerUserList().size()}"></span> follower</div>
                        <div class="attr"><span th:text="${user.getFollowingUserList().size()}"></span> following</div>
                    </div>
                    <p th:text="${user.getProfile().getBio()}"></p>
                </div>
            </div>
            <div class="row mt40">
                <div class="col-md-3" th:each="p, iterStat : ${user.getPostList()}">
                    <a th:href="@{'/post/' + ${p.id}}">
                        <div class="post_card">
                            <img th:src="@{${'/img/' + p.getPhoto().getPath()}}">
                            <div th:text="${p.title}"></div>
                            <div th:text="${p.description}"></div>
                            <div>
                                <span th:text="${p.created}"></span>
                            </div>
                            <div class="post_card" th:each="comment, iterStat : ${p.getCommentList()}">
                                <div th:text="${comment.created}"></div>
                                <div th:text="${comment.description}"></div>
                                <div th:text="${comment.getUser().publicName}"></div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>